from django.core.management.base import BaseCommand
from courses.models import Achievement


class Command(BaseCommand):
    help = '–°–æ–∑–¥–∞—ë—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–æ–∫–æ–ª–æ 32 —à—Ç—É–∫)'

    def handle(self, *args, **options):
        achievements = []
        # –ü–æ –∫–≤–∏–∑–∞–º
        achievements += [
            ('quiz_10', '–ü–µ—Ä–≤—ã–π –º–∞—Ä–∞—Ñ–æ–Ω –∫–≤–∏–∑–æ–≤', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 10 –∫–≤–∏–∑–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ñ–∏—Ä–º–µ–Ω–Ω—ã–µ –Ω–∞–∫–ª–µ–π–∫–∏', 'passed_quizzes', 10, '–§–∏—Ä–º–µ–Ω–Ω—ã–µ –Ω–∞–∫–ª–µ–π–∫–∏', '‚≠ê'),
            ('quiz_20', '–£–≤–µ—Ä–µ–Ω–Ω—ã–π –∏–≥—Ä–æ–∫', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 20 –∫–≤–∏–∑–æ–≤ ‚Äî –Ω–∞–±–æ—Ä —Å—Ç–∏–∫–µ—Ä–æ–≤ + –∑–Ω–∞—á–æ–∫', 'passed_quizzes', 20, '–ù–∞–±–æ—Ä —Å—Ç–∏–∫–µ—Ä–æ–≤ + –∑–Ω–∞—á–æ–∫', '‚≠ê'),
            ('quiz_30', '–ù–∞—Å—Ç–æ—è—â–∏–π –±–æ–µ—Ü', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 30 –∫–≤–∏–∑–æ–≤ ‚Äî –±—Ä–µ–Ω–¥–æ–≤–∞—è —Ç–µ—Ç—Ä–∞–¥—å', 'passed_quizzes', 30, '–¢–µ—Ç—Ä–∞–¥—å Study Task', '‚≠ê'),
            ('quiz_50', '–ü–æ–ª—Å–æ—Ç–Ω–∏!', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 50 –∫–≤–∏–∑–æ–≤ ‚Äî –±—É—Ç—ã–ª–∫–∞ –¥–ª—è –≤–æ–¥—ã', 'passed_quizzes', 50, '–ë—É—Ç—ã–ª–∫–∞ –¥–ª—è –≤–æ–¥—ã Study Task', '‚≠ê'),
            ('quiz_75', '–ü–æ—á—Ç–∏ —Å–æ—Ç–Ω—è', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 75 –∫–≤–∏–∑–æ–≤ ‚Äî —Ä—é–∫–∑–∞–∫ –¥–ª—è —Å–º–µ–Ω–∫–∏', 'passed_quizzes', 75, '–†—é–∫–∑–∞–∫ –¥–ª—è —Å–º–µ–Ω–∫–∏', '‚≠ê'),
            ('quiz_100', '–°–æ—Ç–Ω—è!', '–í—ã–ø–æ–ª–Ω–∏—Ç–µ 100 –∫–≤–∏–∑–æ–≤ ‚Äî —Ñ–∏—Ä–º–µ–Ω–Ω–∞—è —Ç–æ–ª—Å—Ç–æ–≤–∫–∞', 'passed_quizzes', 100, '–¢–æ–ª—Å—Ç–æ–≤–∫–∞ Study Task', '‚≠ê'),
        ]
        # –ò–¥–µ–∞–ª—å–Ω—ã–µ –∫–≤–∏–∑—ã
        achievements += [
            ('perfect_5', '–¢–æ—á–Ω–æ—Å—Ç—å 100%', '–°–¥–∞–π—Ç–µ 5 –∫–≤–∏–∑–æ–≤ –Ω–∞ 100% ‚Äî –∑–Ω–∞—á–æ–∫ ¬´–°—É–ø–µ—Ä—Ç–æ—á–Ω–æ—Å—Ç—å¬ª', 'perfect_quizzes', 5, '–ó–Ω–∞—á–æ–∫ ¬´–°—É–ø–µ—Ä—Ç–æ—á–Ω–æ—Å—Ç—å¬ª', 'üéØ'),
            ('perfect_10', '–°–Ω–∞–π–ø–µ—Ä', '–°–¥–∞–π—Ç–µ 10 –∫–≤–∏–∑–æ–≤ –Ω–∞ 100% ‚Äî —Ñ–∏—Ä–º–µ–Ω–Ω–∞—è –∫—Ä—É–∂–∫–∞', 'perfect_quizzes', 10, '–ö—Ä—É–∂–∫–∞ Study Task', 'üéØ'),
            ('perfect_20', '–õ–µ–≥–µ–Ω–¥–∞ —Ç–µ—Å—Ç–æ–≤', '–°–¥–∞–π—Ç–µ 20 –∫–≤–∏–∑–æ–≤ –Ω–∞ 100% ‚Äî –Ω–∞—É—à–Ω–∏–∫–∏', 'perfect_quizzes', 20, '–ù–∞—É—à–Ω–∏–∫–∏', 'üéØ'),
        ]
        # –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∫—É—Ä—Å—ã
        achievements += [
            ('courses_5', '–ü–µ—Ä–≤—ã–µ 5 –∫—É—Ä—Å–æ–≤', '–ü—Ä–æ–π–¥–∏—Ç–µ 5 –∫—É—Ä—Å–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ñ—É—Ç–±–æ–ª–∫—É', 'completed_courses', 5, '–§—É—Ç–±–æ–ª–∫–∞ Study Task', 'üëï'),
            ('courses_10', '–î–µ—Å—è—Ç–∫–∞!', '–ü—Ä–æ–π–¥–∏—Ç–µ 10 –∫—É—Ä—Å–æ–≤ ‚Äî —Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Å—É–º–∫–∞', 'completed_courses', 10, '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Å—É–º–∫–∞', 'üéí'),
            ('courses_15', '–ü—è—Ç–Ω–∞—à–∫–∞', '–ü—Ä–æ–π–¥–∏—Ç–µ 15 –∫—É—Ä—Å–æ–≤ ‚Äî —Å–º–∞—Ä—Ç‚Äë–±—Ä–∞—Å–ª–µ—Ç', 'completed_courses', 15, '–°–º–∞—Ä—Ç‚Äë–±—Ä–∞—Å–ª–µ—Ç', '‚åö'),
            ('courses_20', '–î–≤–∞–¥—Ü–∞—Ç–∫–∞', '–ü—Ä–æ–π–¥–∏—Ç–µ 20 –∫—É—Ä—Å–æ–≤ ‚Äî –ø–ª–∞–Ω—à–µ—Ç', 'completed_courses', 20, '–ü–ª–∞–Ω—à–µ—Ç', 'üì±'),
        ]
        # –ó–≤—ë–∑–¥—ã
        achievements += [
            ('stars_100', '100 –∑–≤—ë–∑–¥', '–ù–∞–∫–æ–ø–∏—Ç–µ 100 –∑–≤—ë–∑–¥ ‚Äî –Ω–∞–±–æ—Ä —Å—Ç–∏–∫–µ—Ä–æ–≤', 'total_stars', 100, '–ù–∞–±–æ—Ä —Å—Ç–∏–∫–µ—Ä–æ–≤', 'üåü'),
            ('stars_250', '250 –∑–≤—ë–∑–¥', '–ù–∞–∫–æ–ø–∏—Ç–µ 250 –∑–≤—ë–∑–¥ ‚Äî –±—Ä–µ–Ω–¥–æ–≤–∞—è –∫–µ–ø–∫–∞', 'total_stars', 250, '–ö–µ–ø–∫–∞ Study Task', 'üß¢'),
            ('stars_500', '500 –∑–≤—ë–∑–¥', '–ù–∞–∫–æ–ø–∏—Ç–µ 500 –∑–≤—ë–∑–¥ ‚Äî —Ñ—É—Ç–±–æ–ª–∫–∞', 'total_stars', 500, '–§—É—Ç–±–æ–ª–∫–∞ Study Task', 'üëï'),
            ('stars_1000', '1000 –∑–≤—ë–∑–¥', '–ù–∞–∫–æ–ø–∏—Ç–µ 1000 –∑–≤—ë–∑–¥ ‚Äî —Ö—É–¥–∏', 'total_stars', 1000, '–•—É–¥–∏ Study Task', 'üß•'),
            ('stars_2000', '2000 –∑–≤—ë–∑–¥', '–ù–∞–∫–æ–ø–∏—Ç–µ 2000 –∑–≤—ë–∑–¥ ‚Äî —Ä—é–∫–∑–∞–∫', 'total_stars', 2000, '–†—é–∫–∑–∞–∫ Study Task', 'üéí'),
        ]
        # –£—Ä–æ–≤–Ω–∏
        achievements += [
            ('level_2', '–£—Ä–æ–≤–µ–Ω—å 2', '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —É—Ä–æ–≤–Ω—è 2 ‚Äî –Ω–∞–∫–ª–µ–π–∫–∏', 'level_reached', 2, '–ù–∞–∫–ª–µ–π–∫–∏ Study Task', 'üèÖ'),
            ('level_3', '–£—Ä–æ–≤–µ–Ω—å 3', '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —É—Ä–æ–≤–Ω—è 3 ‚Äî –∑–Ω–∞—á–æ–∫', 'level_reached', 3, '–ó–Ω–∞—á–æ–∫ Study Task', 'üèÖ'),
            ('level_4', '–£—Ä–æ–≤–µ–Ω—å 4', '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —É—Ä–æ–≤–Ω—è 4 ‚Äî –±—É—Ç—ã–ª–∫–∞', 'level_reached', 4, '–ë—É—Ç—ã–ª–∫–∞ Study Task', 'üèÖ'),
            ('level_5', '–£—Ä–æ–≤–µ–Ω—å 5', '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —É—Ä–æ–≤–Ω—è 5 ‚Äî —Ñ—É—Ç–±–æ–ª–∫–∞', 'level_reached', 5, '–§—É—Ç–±–æ–ª–∫–∞ Study Task', 'üèÖ'),
        ]
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ, —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ü–µ–ª–∏, —á—Ç–æ–±—ã –¥–æ–≤–µ—Å—Ç–∏ –¥–æ ~32
        achievements += [
            ('streak_quiz_7', '–°–µ—Ä–∏—è 7 –¥–Ω–µ–π', '–ü—Ä–æ—Ö–æ–¥–∏—Ç–µ –∫–≤–∏–∑—ã 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ ‚Äî –±–ª–æ–∫–Ω–æ—Ç', 'passed_quizzes', 25, '–ë–ª–æ–∫–Ω–æ—Ç Study Task', 'üìì'),
            ('streak_quiz_14', '–°–µ—Ä–∏—è 14 –¥–Ω–µ–π', '–ü—Ä–æ—Ö–æ–¥–∏—Ç–µ –∫–≤–∏–∑—ã 14 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ ‚Äî —Ç–µ—Ä–º–æ–∫—Ä—É–∂–∫–∞', 'passed_quizzes', 40, '–¢–µ—Ä–º–æ–∫—Ä—É–∂–∫–∞', 'ü•§'),
            ('mix_start', '–°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–µ—Ç', '10 –∫–≤–∏–∑–æ–≤ –∏ 1 –∫—É—Ä—Å ‚Äî –Ω–∞–±–æ—Ä –Ω–∞–∫–ª–µ–µ–∫', 'passed_quizzes', 10, '–ù–∞–±–æ—Ä –Ω–∞–∫–ª–µ–µ–∫', 'üéí'),
            ('mix_mid', '–£–≤–µ—Ä–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç', '30 –∫–≤–∏–∑–æ–≤ –∏ 3 –∫—É—Ä—Å–∞ ‚Äî –∫–µ–ø–∫–∞', 'passed_quizzes', 30, '–ö–µ–ø–∫–∞ Study Task', 'üß¢'),
            ('mix_pro', '–ü—É—Ç—å —á–µ–º–ø–∏–æ–Ω–∞', '75 –∫–≤–∏–∑–æ–≤ –∏ 10 –∫—É—Ä—Å–æ–≤ ‚Äî —Ö—É–¥–∏', 'passed_quizzes', 75, '–•—É–¥–∏ Study Task', 'üß•'),
            ('mix_legend', '–õ–µ–≥–µ–Ω–¥–∞ Study Task', '100 –∫–≤–∏–∑–æ–≤ –∏ 20 –∫—É—Ä—Å–æ–≤ ‚Äî –ø–ª–∞–Ω—à–µ—Ç', 'passed_quizzes', 100, '–ü–ª–∞–Ω—à–µ—Ç', 'üì±'),
            ('perfect_master', '–ú–∞—Å—Ç–µ—Ä —Ç–æ—á–Ω–æ—Å—Ç–∏', '20 –∏–¥–µ–∞–ª—å–Ω—ã—Ö –∫–≤–∏–∑–æ–≤ ‚Äî –Ω–∞—É—à–Ω–∏–∫–∏', 'perfect_quizzes', 20, '–ù–∞—É—à–Ω–∏–∫–∏', 'üéß'),
            ('courses_pro', '–£—á–µ–±–Ω—ã–π –ø—Ä–æ—Ñ–∏', '15 –∫—É—Ä—Å–æ–≤ ‚Äî —Å–º–∞—Ä—Ç‚Äë–±—Ä–∞—Å–ª–µ—Ç', 'completed_courses', 15, '–°–º–∞—Ä—Ç‚Äë–±—Ä–∞—Å–ª–µ—Ç', '‚åö'),
        ]

        created = 0
        for code, title, description, ctype, cvalue, reward, icon in achievements:
            _, is_created = Achievement.objects.get_or_create(
                code=code,
                defaults={
                    'title': title,
                    'description': description,
                    'condition_type': ctype,
                    'condition_value': cvalue,
                    'reward': reward,
                    'reward_icon': icon,
                    'is_active': True,
                }
            )
            if is_created:
                created += 1
        self.stdout.write(self.style.SUCCESS(f'–°–æ–∑–¥–∞–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: {created}. –í—Å–µ–≥–æ: {Achievement.objects.count()}'))



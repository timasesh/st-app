{% load static %}
{% load course_filters %}

<div id="home" class="tab-pane active">
    <div class="home-tab-container">
        <div class="home-header">
            <h2 class="home-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Study Task!</h2>
            <p class="home-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</p>
        </div>
        
        <div class="home-cards-grid">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∫—É—Ä—Å–æ–≤ -->
            <div class="home-card courses-card" onclick="switchTab('courses')">
                <div class="home-card-icon courses-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–ú–æ–∏ –∫—É—Ä—Å—ã</h3>
                    <p class="home-card-description">–ò–∑—É—á–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —É—Ä–æ–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ user.student.courses.count }} –∫—É—Ä—Å–æ–≤</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ -->
            <div class="home-card rating-card" onclick="switchTab('rating')">
                <div class="home-card-icon rating-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–†–µ–π—Ç–∏–Ω–≥</h3>
                    <p class="home-card-description">–°–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –∏ –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ—Å—å –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ user.student.stars }} ‚≠ê</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —É—Ä–æ–≤–Ω–µ–π -->
            <div class="home-card levels-card" onclick="switchTab('levels')">
                <div class="home-card-icon levels-icon">
                    <i class="fas fa-medal"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–£—Ä–æ–≤–Ω–∏</h3>
                    <p class="home-card-description">–ü–æ–≤—ã—à–∞–π—Ç–µ —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</p>
                    <div class="card-stats">
                        <span class="stat-badge">–£—Ä–æ–≤–µ–Ω—å {{ user.student.level_number }}</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–≤–∏–∑–æ–≤ -->
            <div class="home-card quizzes-card" onclick="switchTab('quizzes')">
                <div class="home-card-icon quizzes-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–ö–≤–∏–∑—ã</h3>
                    <p class="home-card-description">–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∑–≤–µ–∑–¥—ã</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ student_quizzes|length }} –¥–æ—Å—Ç—É–ø–Ω–æ</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π -->
            <div class="home-card homework-card" onclick="switchTab('homework')">
                <div class="home-card-icon homework-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h3>
                    <p class="home-card-description">–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ pending_homeworks_count }} –∞–∫—Ç–∏–≤–Ω—ã—Ö</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ -->
            <div class="home-card requests-card" onclick="switchTab('requests')">
                <div class="home-card-icon requests-icon">
                    <i class="fas fa-paper-plane"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–ó–∞–ø—Ä–æ—Å—ã</h3>
                    <p class="home-card-description">–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</p>
                    <div class="card-stats">
                        <span class="stat-badge">–°–≤—è–∑—å —Å –∞–¥–º–∏–Ω–∞–º–∏</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
            <div class="home-card achievements-card" onclick="switchTab('achievements')">
                <div class="home-card-icon achievements-icon">
                    <i class="fas fa-award"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <p class="home-card-description">–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ unlocked_achievements|length }} –ø–æ–ª—É—á–µ–Ω–æ</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
            <div class="home-card notifications-card" onclick="switchTab('notifications')">
                <div class="home-card-icon notifications-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                    <p class="home-card-description">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤–∞–∂–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏</p>
                    <div class="card-stats">
                        <span class="stat-badge">{{ unread_notifications_count }} –Ω–æ–≤—ã—Ö</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã -->
            <div class="home-card wheel-card" onclick="switchTab('wheel')">
                <div class="home-card-icon wheel-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="home-card-content">
                    <h3 class="home-card-title">–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</h3>
                    <p class="home-card-description">–ò—Å–ø—ã—Ç–∞–π—Ç–µ —É–¥–∞—á—É –∏ –≤—ã–∏–≥—Ä–∞–π—Ç–µ –∑–≤–µ–∑–¥—ã! –ö—Ä—É—Ç–∏—Ç–µ –∫–æ–ª–µ—Å–æ —Ä–∞–∑ –≤ 24 —á–∞—Å–∞</p>
                    <div class="card-stats">
                        <span class="stat-badge">üé∞ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∏–≥—Ä–∞</span>
                    </div>
                </div>
                <div class="home-card-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
            </div>
        </div>
    </div>
</div>
